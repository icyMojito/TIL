## # 방명록 구현하기

#### _서비스 클래스_

- 사용자의 요청을 처리하기 위한 기능을 제공

  > 게시글 목록 제공, 게시글 쓰기, 회원 등록, 회원 정보 수정 ... etc

- DAO를 통해서 데이터에 접근하고 기능을 수행하는 데 필요한 로직을 수행

- 서비스 클래스에서 제공하는 메서드에서 예외가 발생하면 서비스에 알맞은 예외 발생 필요

  - 메시지 삭제 기능을 구현한 메서드에서 삭제가 실패하면 이를 정확히 알리는 예외

- 논리적으로 잘못된 경우에도 알맞은 예외 발생 필요

  - 삭제하려는 게시글이 존재하지 않으면 이를 정확히 알리는 예외

- 싱글톤(Singleton) 패턴

  - 특정 클래스의 객체가 단 한 개만 존재하도록 제약하는 구현 패턴

  - 특정 클래스 객체를 여러 번 사용하는 것과 매번 새로운 객체를 생성해서 사용하는 것이 기능상 차이가 없는 경우, 특정 클래스 객체 하나만을 재사용할 수 있도록 구현

    > public class ExampleService {
    >
    > ​	**_// 유일한 객체를 정적 필드에 저장_**
    >
    > ​	private static ExampleService instance = new ExampleService();
    >
    > ​	**_// 유일한 객체에 접근할 수 있는 정적 메서드 정의_**
    >
    > ​	public static ExampleService getInstance() {
    >
    > ​		return instance;
    >
    > ​	}
    >
    > ​	**_// 생성자를 private으로 설정해서 외부에서 접근하지 못함_**
    >
    > ​	private ExampleService() {}
    >
    > ​	...
    >
    > }

  - 싱글톤 패턴으로 구현한 클래스의 객체가 필요한 코드는 getInstance() 메서드를 사용해서 객체를 구하고 필요한 기능을 사용



#### _커넥션 제공 클래스_

- DB 연동이 필요한 모든 코드에는 아래와 같은 코드가 중복됨

  > DriverManager.getConnection() 메서드, JDBC URL, 사용자 아이디, 사용자 암호

- 커넥션을 제공하는 메서드가 있는 별도의 커넥션 제공 클래스를 만들어 사용하면, JDBC URL이나 커넥션 풀 구현을 DBCP에서 다른 라이브러리로 변경해야 할 때 일일이 모든 커넥션을 찾아 다니며 고치지 않아도 됨



#### _close()와 rollback() 처리 코드 클래스_

- Connection, Statement, ResultSet과 같은 클래스의 close() 메서드 호출과 처리 코드를 별도의 클래스로 작성
- rollback() 메서드 호출과 처리 코드를 별도의 클래스로 작성
- 본 코드를 조금 더 간결하게 만듦



#### _CRUD_

- 기본적인 데이터 처리 기능인 **C**reate, **R**ead, **U**pdate, **D**elete



#### _DAO 쿼리문_

- 지정한 행부터 지정한 개수만큼 행을 가져오는 기능을 제공하는 구문. 페이징 구현에 유용

  > SELECT * FROM {TABLENAME} ... LIMIT [시작행번호], [읽어올개수]



#### _예외(Exception)_

- IllegalArgumentException : 부정한 인수, 또는 부적절한 메서드에 건네준 것을 나타내기 위해서 발생
  - Object, Throwable, Exception, RuntimeException의 상속을 받음



#### _JSP 사용_

- 서비스 클래스에 사용자의 요청을 보내고 그 결과값을 받아와 화면에 출력

  > 메시지 목록을 보여주는 화면, 메시지 등록을 처리하는 화면, 메시지 삭제를 처리하는 화면 등

- < input > 태그로 사용자에게 직접 값을 입력받아 파라미터로 전달할 수 있음